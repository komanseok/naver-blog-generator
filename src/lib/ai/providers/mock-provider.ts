import type { AiProvider } from '@/types/ai';

const MOCK_CONTENT = `# 제주도 맛집 베스트 7! 현지인도 인정한 숨은 맛집 총정리

제주도 여행을 계획하고 계신가요? 맛있는 음식 없이는 여행이 완성되지 않죠! 오늘은 현지인들도 자주 찾는 제주도 숨은 맛집들을 소개해드릴게요.

## 1. 제주 흑돼지의 성지, 흑돼지거리

제주도에 왔다면 흑돼지는 필수죠! 제주시 탑동에 위치한 흑돼지거리에서는 신선한 제주 흑돼지를 합리적인 가격에 즐길 수 있어요. 특히 근고기와 오겹살의 식감이 일반 돼지고기와는 확연히 다르답니다.

[이미지: 제주 흑돼지 구이 사진]

## 2. 바다가 보이는 해산물 맛집

제주도의 싱싱한 해산물을 맛보고 싶다면 서귀포 중문 근처의 해산물 전문점을 추천해요. 전복죽, 회덮밥, 해물라면까지 다양한 메뉴를 즐길 수 있어요. 바다 뷰와 함께 먹으면 맛이 두 배가 된답니다.

[이미지: 제주 해산물 회 사진]

## 3. 감성 가득한 제주 카페 맛집

제주도는 카페 천국이라고 불릴 만큼 예쁜 카페가 많아요. 특히 애월 해안도로를 따라 늘어선 카페들은 인스타그램 성지로도 유명하죠. 커피와 함께 당근케이크, 한라봉 에이드 같은 제주 특산물 디저트를 꼭 맛보세요.

## 4. 제주 전통 음식, 고기국수와 몸국

제주도 로컬 음식을 체험하고 싶다면 고기국수와 몸국을 빼놓을 수 없어요. 든든한 한 그릇이 여행의 피로를 풀어줄 거예요. 제주시 원도심 골목에 숨어있는 노포들이 진짜 맛집이랍니다.

[이미지: 제주 고기국수 사진]

## 5. 성산일출봉 근처 브런치 맛집

성산일출봉을 구경한 후에는 근처 브런치 카페에서 여유로운 식사를 즐겨보세요. 현지 식재료를 활용한 건강한 브런치 메뉴가 인기예요.

## 6. 제주 흑돼지 버거와 퓨전 맛집

전통적인 맛집 외에도 제주 특산물을 활용한 퓨전 음식점도 많아요. 흑돼지 버거, 한라봉 파스타 등 독특한 메뉴를 맛볼 수 있는 곳들이 숨겨져 있답니다.

## 7. 중문관광단지 맛집 거리

중문관광단지 내에는 다양한 맛집이 밀집해 있어요. 한식, 양식, 일식 등 취향에 맞는 음식을 골라먹을 수 있는 최고의 맛집 거리예요.

---

오늘 소개한 제주도 맛집들, 어떠셨나요? 여행 계획에 꼭 포함시켜 보세요! 가보신 맛집이 있다면 댓글로 후기를 남겨주세요. 다른 분들에게도 큰 도움이 될 거예요! 😊`;

export class MockProvider implements AiProvider {
  async *generateStream(params: {
    systemPrompt: string;
    userPrompt: string;
    model: string;
    maxTokens: number;
  }): AsyncIterable<string> {
    // 키워드를 추출해서 제목에 반영
    const keyword = params.userPrompt.match(/"([^"]+)"/)?.[1] || '맛집';
    const content = MOCK_CONTENT.replace(/제주도 맛집/g, keyword);

    // 실제 스트리밍처럼 청크 단위로 전송
    const chunks = content.match(/[\s\S]{1,30}/g) || [];
    for (const chunk of chunks) {
      await new Promise((r) => setTimeout(r, 20));
      yield chunk;
    }
  }
}
